# Установка и настройка

1. Создать и установить права на запись в директорию *traffic-php-module/config* ( 0777 )
2. Загрузить данные потока и список IP-диапазонов мобильных операторов:
    - Вариант 1. Выполнить в терминале команду:  
    `/usr/bin/php <path_to_traffic-php-module>/traffic-php-module/update.php`
    - Вариант 2. Открыть в браузере страницу вашего сайта:  
        `<АДРЕС_САЙТА>/traffic-php-module/update.php`
            
    - Вариант 3. Добавить команду из варианта 1 в задание для cron

3. Убедиться, что в директории *traffic-php-module/config* появились файлы с настройками: **ip.php** и **flow.php**
4. Разместите следующий код в php-шаблоне вашего сайта внутри тега *body*.


    <?php
        require <PATH_TO_TRAFFIC_PHP_MODULE> . '/traffic-php-module/init.php';
        echo TrafficModule::Create()->redirect();
    ?>

5. Для корректной и эффективной работы модуля необходимо регулярно обновлять загруженные данные. 
Настоятельно рекомендуем использовать для этого cron (П.2, Вариант 3). 
В случае отсутствия технической возможности использования cron необходимо выполнять обновление данных вручную (п.2, Вариант 1 и 2).  
Рекомендуемая частота обновления - не реже 1 раза в сутки.    


    
